---
layout: post
title: 把香薰加湿器改造成语音控制智能小家电
subtitle: 通过简单改变电路，配合智能开关，使香薰加湿器能被智能音箱控制
---

前不久在Amazon买了个遥控控制的香薰加湿器，一开始觉得很好用，可惜不到一个月遥控器就坏了。联系卖家被告知商品下架不能补寄遥控器，但又很喜欢这款不想退货，于是只好用加湿器底部的物理按键开开关关又用了一段时间。

![香薰加湿器](/img/diffuser/1.jpg)

然而由俭入奢易，由奢入俭难。在体会了遥控器的方便快捷后，再也忍受不了要把加湿器抬起来按开关。最不方便的是晚上要睡觉时突然想起加湿器没关，还要从心爱的被子里爬起来。于是乎，想到家里有Google Home和Amazon Echo，就买了智能开关来控制加湿器。

![智能开关](/img/diffuser/2.jpg)

<center>:hushed:我是谁，我在哪儿，我要干什么？</center>

然而使用时发现，智能开关只能控制关，已经关了的加湿器不能再打开（这和台灯不同，台灯只需要开关一直处于打开状态就能用智能开关控制台灯开关）。所以还需要进一步改进。于是在夜黑风高（热的要死）的某个夜晚，我决定拆开这台加湿器看看其内部构造。

改造思路就是使底座的物理开关失效，让电路始终处于连通状态即可。然而在拆开的过程中遇到了一点小麻烦，遥控器信号接收器粘在了底座上，没法拆下外壳。好在只是简单的热熔胶，用小刀刮开即可，最后安装的时候再补胶粘回去。

![拆机](/img/diffuser/3.jpg)

找到了电源开关对应的电路板，查了查电路板型号，发现用的是四脚轻触开关。只要把开关短路掉即可保持常开状态，有如下几个想法：把电路板上开关的焊点连通，可是家里既没有焊锡也没有电烙铁；把电路板对应的电线剪开再接到一起，但是想到可能有一天想复原物理开关（没那么一天），并且不愿意破坏原有结构，也作罢。![电路板](/img/diffuser/4.jpg)

最后采用的方法是连接接线端子，把订书针截成合适长度弯成合适形状，插入端子插口中，连胶都不需要。测试成功，组装复原，大功告成~:wink:

![接线](/img/diffuser/5.jpg)

还要考虑一下安全问题，原本加湿器的设计是没有水后电路自动断开，那把电源短路了之后会不会影响这个功能呢？我思考了一下认为，原本电路的保护机制是和物理开关无关的，缺水断开电路物理开关没有操作，那么把物理开关短路应该不会有影响。为了验证这一想法我在极少水的状态下控制加湿器打开，等水耗尽后风扇果然停止了运转。

最后是一段Google Home控制加湿器的测试视频。顺便一提YouTube上传视频后可以下载MP4实现格式转化，还顺带压缩了。

<video src="/img/diffuser/Diffuser.mp4" type="video/mp4" controls="controls" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;"> your browser does not support the video tag </video>
